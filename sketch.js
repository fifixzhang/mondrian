

var song;

// var button;

var amp;

// var colorY = color (234, 211, 52);
// var colorR = color (168, 56, 44);
// var colorB = color (66, 101, 188);
// var colorG = color (222, 223, 218); 

var speedY = 1;

// var slider;

// function toggleSong(){
// 	if (song.isPlaying){
// 		song.pause();
// 	}else{
// 		song.play();
// 	}
// }


function setup() {
  var canvas = createCanvas(600,600);
  canvas.parent('canvas_holder');

  noSmooth();
  noStroke();
  song = loadSound("1.mp3", loaded);
  amp = new p5.Amplitude();  
  loadFont();

  // slider = createSlider(0, 1, 0.5, 0.01);

  // button = createButton('toggle');
  // button.mousePressed(toggleSong);

  


}

function loaded() {
  song.play();
}


function draw() {
  //canvas
  background(242, 243, 238);

  fill(234, 211, 52);

  //draw horizontal yellow streets
  //h1~h6
  rect(0,1*12,600,12);
  rect(0,8*12,600,12);
  rect(0,18*12,600,12);
  rect(0,22*12,600,12);
  rect(0,28*12,600,12);
  rect(0,31*12,600,12);

  //h7~h9
  rect(0,34*12,36,12);
  rect(36,36*12,300,12);
  rect(0,38*12,36,12);

  //h10~h12
  rect(0,43*12,600,12);
  rect(0,44*12+6,36,12);
  rect(0,47*12,600,12);

  //draw vertical yellow streets
  rect(12,0,12,18*12);
  rect(3*12,0,12,600);
  rect(6*12,0,12,600-30);
  rect(11*12,0,12,600-30);

  rect(25*12,0,12,600);
  rect(27*12,0,12,600);

  rect(42*12,0,12,600);
  rect(44*12,0,12,96);
  rect(46*12,0,12,336);
  rect(48*12,0,12,600);



//draw gray blocks
  fill(222, 223, 218);
  rect(25*12, 100, 12, 12);
  rect(25*12, 390, 12, 12);
  rect(25*12, 450, 12, 12);

  




//draw buildings
  var vol = amp.getLevel();
  	noStroke();

    //draw blue buildings
    fill(66, 101, 188);
    //b2
    rect(31*12, 9*12, 5*12, 9*12);
    //b7
    rect(4*12, 10*12, 3*12, 3*12); 
    //b10
    rect(14*12, 24*12, 3*12, 4*12);
    //b13
    rect(45*12+6, 3*12, 2*12, 3*12);
    //b16
    rect(34*12, 28*12, 2*12, 1*12);



    //draw red buildings
    fill(168, 56, 44);
    //b1
  	rect(12*12+6, 2*12, 4*12+vol * 100, 5*12+vol * 100);

    //b6
    rect(8*12, 2*12, 2*12, 2*12);
    rect(8*12, 5*12, 2*12, 2*12);

    //b14
    rect(44*12, 11*12, 3*12, 2*12);
    //b15
    rect(45*12, 25*12, 1*12, 2*12-6);
    //b16
    rect(34*12, 23*12, 4*12, 8*12);

    //draw yellow buildings
    fill(234, 211, 52);
    //b8
    rect(7*12, 14*12, 4*12, 3*12); 
    rect(8*12, 18*12, 2*12, 5*12); 
    //b10
    rect(15*12-3, 25*12, 2*12-6, 2*12);
    //b11
    rect(19*12-3, 19*12, 4*12-6, 10*12);
    //b12
    rect(7*12, 40*12, 4*12, 3*12); 
    //b15
    rect(43*12, 25*12, 2*12, 2*12-6); rect(46*12, 25*12, 2*12, 2*12-6);

    //draw gray buildings
    fill(222, 223, 218);
    //b1
    rect(13*12+6, 4*12, 2*12+vol * 100, 2*12+vol * 100);
    //b6
    rect(8*12, 4*12, 2*12, 1*12);
    rect(8*12, 7*12, 2*12, 1*12);
    //b8
    rect(8*12, 15*12, 2*12, 1*12); 
    rect(9*12-6, 20*12, 1*12, 1*12); 
    //b11
    rect(19*12-3, 22*12, 4*12-6, 1*12);
    rect(19*12-3, 24*12, 4*12-6, 3*12);
    //b12
    rect(8*12+6, 40*12+6, 1*12, 1*12);
    //b16
    rect(35*12, 24*12, 2*12, 2*12);

    
    


    for(var j = 0; j < 5; j++){
      //b2
      fill(168, 56, 44);
      rect(31*12, 12*12+j*30*vol, 5*12, 3*12);
      fill(234, 211, 52);
      rect(32*12, 13*12+(-j)*10*vol, 3*12, 1*12);

      //b3
      fill(66, 101, 188);
      rect(43*12, 34*12+(-j)*50*vol, 3*12, 3*12);
      fill(234, 211, 52);
      rect(43*12, 37*12+(-j)*50*vol, 3*12, 2*12);
      fill(168, 56, 44);
      rect(43*12, 39*12+(j)*40*vol, 3*12, 2*12);

      //b4
      fill(66, 101, 188);
      rect(4*12, 37*12+(-j)*30*vol, 3*12, 3*12);

      //b5
      fill(168, 56, 44);
      rect(20*12+(-j)*40*vol, 47*12, 4*12, 2*12);

      //b9
      rect(7*12, 25*12+(-j)*30*vol, 4*12, 2*12); 

      
    }

    //b16
    fill(66, 101, 188);
    rect(34*12, 28*12, 2*12, 1*12);


    








    for(var i = 0; i < 11; i++){



    //red horizontal blocks
    fill(168, 56, 44);

    //h1
    rect(192*i+24,1*12, 12, 12);

    //h2
    rect(2000*vol*i,8*12, 12, 12);

    //h3
    rect(3000*vol*i,18*12, 12, 12);

    //h4
    rect(156*i+24,22*12, 12, 12);

    //h5
    rect(192*i+96,28*12, 12, 12);

    //h6
    rect(144*i+72,31*12, 12, 12);


    //h7
    rect(24, 34*12, 12, 12);

    //h8
    rect(144,36*12, 12, 12);
    rect(288,36*12, 12, 12);

    //h9
    // rect(3000*vol*i,38*12, 12, 12);


    //h10
    rect(1100*vol*i,43*12, 12, 12);

    //h11
    rect(24, 44*12+6, 12, 12);

    //h12
    rect(240*i,47*12, 12, 12);


    //////red vertical blocks

    rect(12,48,12,12);rect(12,128,12,12);
    rect(3*12,3000*vol*i,12,12);
    rect(6*12,192*i+24,12,12);
    rect(11*12,156*i+24,12,12);

    rect(25*12, 1600*vol*i, 12, 12);
    rect(27*12, 252*i+60, 12, 12);

    rect(42*12,2800*vol*i,12,12);
    rect(44*12,48,12,12);
    rect(46*12,72,12,12);rect(46*12,60+188,12,12);
    rect(48*12,192*i,12,12);




    
    //////blue horizontal blocks
    fill(66, 101, 188);

    //h1
    rect(288*i,1*12, 12, 12);

    //h2
    rect(2000*vol*i+37,8*12, 12, 12);

    //h3
    rect(3000*vol*i+55,18*12, 12, 12);

    //h4
    rect(216*i+24,22*12, 12, 12);

    //h5
    rect(228*i+72,28*12, 12, 12);

    //h6
    rect(196*i+84,31*12, 12, 12);


    //h7
    rect(24, 34*12, 12, 12);

    //h8
    rect(196,36*12, 12, 12);
    rect(240,36*12, 12, 12);
    rect(120,36*12, 12, 12);

    //h9
    rect(24,38*12, 12, 12);


    //h10
    rect(1400*vol*i,43*12, 12, 12);

    // //h11
    // rect(24, 44*12+6, 12, 12);

    //h12
    rect(184*i-24,47*12, 12, 12);

    //////blue vertical blocks


    rect(12,72,12,12);rect(12,196,12,12);
    rect(3*12,3000*vol*i+48,12,12);
    rect(6*12,192*i+24+48,12,12);
    rect(11*12,156*i+24+48,12,12);

    rect(25*12, 3500*vol*i, 12, 12);
    rect(27*12, 240*i+48+48, 12, 12);

    rect(42*12,2800*vol*i+48,12,12);
    rect(44*12,60,12,12);
    rect(46*12,72+48,12,12);rect(46*12,72+48+196,12,12);
    rect(48*12,192*i+48,12,12);
   
    


    //////gray horizontal block
    fill(222, 223, 218);

    //h1
    rect(196*i+48,1*12, 12, 12);

    //h2
    rect(216*i+48,8*12, 12, 12);

    //h3
    rect(144*i,18*12, 12, 12);

    //h4
    rect(216*i+48,22*12, 12, 12);

    //h5
    rect(196*i+48,28*12, 12, 12);

    //h6
    rect(184*i-100,31*12, 12, 12);


    // //h7
    // rect(24, 34*12, 12, 12);

    //h8
    rect(196-24,36*12, 12, 12);
    rect(240-24,36*12, 12, 12);


    // //h9
    // rect(24,38*12, 12, 12);


    //h10
    rect(196*i+84,43*12, 12, 12);

    // //h11
    // rect(24, 44*12+6, 12, 12);

    //h12
    rect(216*i-36,47*12, 12, 12);


    //////gray vertical blocks


    rect(12,128,12,12);rect(12,196,12,12);
    rect(3*12,3000*vol*i+48+36,12,12);
    rect(6*12,192*i+24+48+36,12,12);
    rect(11*12,156*i+36,12,12);

    // rect(25*12, 0, 12, 12);
    rect(27*12, 240*i+48+48+36, 12, 12);

    rect(42*12,156*i+24+48,12,12);
    rect(44*12,60+36,12,12);
    rect(46*12,72+48+36,12,12);
    rect(48*12,192*i+48+36,12,12);

    //yellow
    fill(234, 211, 52);

    //v5
    // rect(25*12, 0, 12, 12);
    // rect(48*12, 0, 12, 12);

    fill(168, 56, 44);
    
    

    }

}


